(()=>{var t={717:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},235:(t,e,n)=>{t.exports=n(302),t.exports.Collection=n(48)},48:t=>{"use strict";t.exports.extend=function(t,e,n,i){var r=n.inverse;return Object.defineProperty(t,"remove",{value:function(t){var n=this.indexOf(t);return-1!==n&&(this.splice(n,1),e.unset(t,r,i)),t}}),Object.defineProperty(t,"contains",{value:function(t){return-1!==this.indexOf(t)}}),Object.defineProperty(t,"add",{value:function(t,n){var o=this.indexOf(t);if(void 0===n){if(-1!==o)return;n=this.length}-1!==o&&this.splice(o,1),this.splice(n,0,t),-1===o&&e.set(t,r,i)}}),Object.defineProperty(t,"__refs_collection",{value:!0}),t},t.exports.isExtended=function(t){return!0===t.__refs_collection}},302:(t,e,n)=>{"use strict";var i=n(48);function r(t,e,n){var r=i.extend(n[e.name]||[],t,e,n);Object.defineProperty(n,e.name,{enumerable:e.enumerable,value:r}),r.length&&r.forEach((function(i){t.set(i,e.inverse,n)}))}function o(t,e){if(!(this instanceof o))return new o(t,e);t.inverse=e,e.inverse=t,this.props={},this.props[t.name]=t,this.props[e.name]=e}o.prototype.bind=function(t,e){if("string"==typeof e){if(!this.props[e])throw new Error("no property <"+e+"> in ref");e=this.props[e]}e.collection?r(this,e,t):function(t,e,n){var i=e.inverse,r=n[e.name];Object.defineProperty(n,e.name,{configurable:e.configurable,enumerable:e.enumerable,get:function(){return r},set:function(e){if(e!==r){var o=r;r=null,o&&t.unset(o,i,n),r=e,t.set(r,i,n)}}})}(this,e,t)},o.prototype.ensureRefsCollection=function(t,e){var n=t[e.name];return i.isExtended(n)||r(this,e,t),n},o.prototype.ensureBound=function(t,e){(function(t,e){return Object.prototype.hasOwnProperty.call(t,e.name||e)})(t,e)||this.bind(t,e)},o.prototype.unset=function(t,e,n){t&&(this.ensureBound(t,e),e.collection?this.ensureRefsCollection(t,e).remove(n):t[e.name]=void 0)},o.prototype.set=function(t,e,n){t&&(this.ensureBound(t,e),e.collection?this.ensureRefsCollection(t,e).add(n):t[e.name]=n)},t.exports=o}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";function t(t,e){var n=this;e=e||1e3,t.on(["render.shape","render.connection"],e,(function(t,e){var i=t.type,r=e.element,o=e.gfx,a=e.attrs;if(n.canRender(r))return"render.shape"===i?n.drawShape(o,r,a):n.drawConnection(o,r,a)})),t.on(["render.getShapePath","render.getConnectionPath"],e,(function(t,e){if(n.canRender(e))return"render.getShapePath"===t.type?n.getShapePath(e):n.getConnectionPath(e)}))}function e(t,e){return function(t,e){e.appendChild(function(t,e){if(t.ownerDocument!==e.ownerDocument)try{return e.ownerDocument.importNode(t,!0)}catch(t){}return t}(t,e))}(e,t),t}t.prototype.canRender=function(){},t.prototype.drawShape=function(){},t.prototype.drawConnection=function(){},t.prototype.getShapePath=function(){},t.prototype.getConnectionPath=function(){};const i=Object.prototype.toString;function r(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}r.prototype.add=function(t){return this.list.add(t),this},r.prototype.remove=function(t){return"[object RegExp]"==i.call(t)?this.removeMatching(t):(this.list.remove(t),this)},r.prototype.removeMatching=function(t){const e=this.array();for(let n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this},r.prototype.toggle=function(t,e){return void 0!==e?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this},r.prototype.array=function(){return Array.from(this.list)},r.prototype.has=r.prototype.contains=function(t){return this.list.contains(t)};function o(t,...e){return Object.assign(t,...e)}function a(t){return t.businessObject.di}function c(t){return t.businessObject}function s(t,e){var n=a(t);return n.get("color:background-color")||n.get("bioc:fill")||e||"white"}function p(t,e){var n=a(t);return n.get("color:border-color")||n.get("bioc:stroke")||e||"black"}function l(t,e,n){var i=a(t).get("label");return i&&i.get("color:color")||e||p(t,n)}Object.prototype.toString,Object.prototype.hasOwnProperty;var h=Object.prototype.toString,u=Object.prototype.hasOwnProperty;function d(t,e){return u.call(t,e)}function f(t,e){var n;if(void 0!==t){var i=function(t){return"[object Array]"===h.call(t)}(t)?m:g;for(var r in t)if(d(t,r)&&!1===e(n=t[r],i(r)))return n}}function b(t,e){return!!function(t,e){var n;return e=function(t){return e=t,n=h.call(e),"[object Function]"===n||"[object AsyncFunction]"===n||"[object GeneratorFunction]"===n||"[object AsyncGeneratorFunction]"===n||"[object Proxy]"===n?t:function(e){return e===t};var e,n}(e),f(t,(function(t,i){if(e(t,i))return n=t,!1})),n}(t,e)}function g(t){return t}function m(t){return Number(t)}function y(){return y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},y.apply(this,arguments)}function v(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return y.apply(void 0,[t].concat(n))}function x(t,e){var n=S(t);return n&&"function"==typeof n.$instanceOf&&n.$instanceOf(e)}function w(t,e){return b(e,(function(e){return x(t,e)}))}function S(t){return t&&t.businessObject||t}function _(t){return!x(t,"bpmn:CallActivity")&&(x(t,"bpmn:SubProcess")?S(t).di&&!!S(t).di.isExpanded:!x(t,"bpmn:Participant")||!!S(t).processRef)}var j=2,E={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":j,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":j,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function O(t,e,n){var i=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=E[i];r?(r===j&&"number"==typeof n&&(n=String(n)+"px"),t.style[i]=n):t.setAttributeNS(null,e,n)}function R(t,e,n){if("string"==typeof e){if(void 0===n)return function(t,e){return E[e]?t.style[e]:t.getAttributeNS(null,e)}(t,e);O(t,e,n)}else!function(t,e){var n,i,r=Object.keys(e);for(n=0;i=r[n];n++)O(t,i,e[i])}(t,e);return t}function P(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}var k=/\s+/,C=Object.prototype.toString;function T(t){return void 0!==t}function D(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}D.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array();return~P(e,t)||e.push(t),T(this.el.className.baseVal)?this.el.className.baseVal=e.join(" "):this.el.className=e.join(" "),this},D.prototype.remove=function(t){if("[object RegExp]"===C.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var e=this.array(),n=P(e,t);return~n&&e.splice(n,1),this.el.className.baseVal=e.join(" "),this},D.prototype.removeMatching=function(t){for(var e=this.array(),n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this},D.prototype.toggle=function(t,e){return this.list?(T(e)?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this):(T(e)?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)},D.prototype.array=function(){var t=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(k);return""===t[0]&&t.shift(),t},D.prototype.has=D.prototype.contains=function(t){return this.list?this.list.contains(t):!!~P(this.array(),t)};var A,B={svg:"http://www.w3.org/2000/svg"},F='<svg xmlns="'+B.svg+'"';function L(t,e){var n;return"<"===t.charAt(0)?(n=function(t){var e=!1;"<svg"===t.substring(0,4)?-1===t.indexOf(B.svg)&&(t=F+t.substring(4)):(t=F+">"+t+"</svg>",e=!0);var n=function(t){var e;return(e=new DOMParser).async=!1,e.parseFromString(t,"text/xml")}(t);if(!e)return n;for(var i=document.createDocumentFragment(),r=n.firstChild;r.firstChild;)i.appendChild(r.firstChild);return i}(t).firstChild,n=document.importNode(n,!0)):n=document.createElementNS(B.svg,t),e&&R(n,e),n}function z(t){for(var e,n="",i=0;e=t[i];i++)n+=e.x+","+e.y+" ";return n}(class extends t{constructor(t,e,n,i){super(t,1500),this.bpmnRenderer=e,A=n.computeStyle,this.textRenderer=i}canRender(t){return w(t,["bpmn:Participant"])&&!t.labelTarget}drawShape(t,e){var n={fillOpacity:.95,fill:s(e,this.bpmnRenderer.defaultFillColor),stroke:p(e,this.bpmnRenderer.defaultStrokeColor)},i=this.renderer("bpmn:Lane")(t,e,n);if(_(e)){this.drawLine(t,[{x:0,y:30},{x:e.width,y:30}],{stroke:p(e,this.bpmnRenderer.defaultStrokeColor)});var r=c(e).name;this.renderLaneLabel(t,r,e)}else{var o=c(e).name;this.bpmnRenderer.renderLabel(t,o,{box:e,align:"center-middle",style:{fill:l(e,this.bpmnRenderer.defaultLabelColor,this.bpmnRenderer.defaultStrokeColor)}})}return!!c(e).participantMultiplicity&&this.renderer("ParticipantMultiplicityMarker")(t,e),i}renderer(t){return this.bpmnRenderer.handlers[t]}drawLine(t,n,i){var r=function(t,e){var n=L("polyline");return R(n,{points:z(t)}),e&&R(n,e),n}(n,i=A(i,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"}));return e(t,r),r}renderLaneLabel(t,e,n){this.renderLabel(t,e,{box:{height:30,width:n.width},align:"center-middle",style:{fill:l(n,this.bpmnRenderer.defaultLabelColor,this.bpmnRenderer.defaultStrokeColor)}})}renderLabel(t,n,i){i=o({size:{width:t.width}},i);var a,c=this.textRenderer.createText(n||"123123",i);return(a=c,new r(a)).add("djs-label"),e(t,c),c}}).$inject=["eventBus","bpmnRenderer","styles","textRenderer"];var M=n(717),N=n.n(M);function H(){return H=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},H.apply(this,arguments)}function G(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return H.apply(void 0,[t].concat(n))}Object.prototype.toString,Object.prototype.hasOwnProperty;var $=n(235),V=n.n($),W=new(V())({name:"children",enumerable:!0,collection:!0},{name:"parent"}),I=new(V())({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),q=new(V())({name:"attachers",collection:!0},{name:"host"}),Z=new(V())({name:"outgoing",collection:!0},{name:"source"}),J=new(V())({name:"incoming",collection:!0},{name:"target"});function K(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(t){var e=this.label,n=this.labels;!t&&e?n.remove(e):n.add(t,0)}}),W.bind(this,"parent"),I.bind(this,"labels"),Z.bind(this,"outgoing"),J.bind(this,"incoming")}function Q(){K.call(this),W.bind(this,"children"),q.bind(this,"host"),q.bind(this,"attachers")}function U(){Q.call(this)}function X(){Q.call(this),I.bind(this,"labelTarget")}function Y(){K.call(this),Z.bind(this,"source"),J.bind(this,"target")}N()(Q,K),N()(U,Q),N()(X,Q),N()(Y,K);var tt={connection:Y,shape:Q,label:X,root:U};function et(){this._uid=12}et.prototype.createRoot=function(t){return this.create("root",t)},et.prototype.createLabel=function(t){return this.create("label",t)},et.prototype.createShape=function(t){return this.create("shape",t)},et.prototype.createConnection=function(t){return this.create("connection",t)},et.prototype.create=function(t,e){return(e=G({},e||{})).id||(e.id=t+"_"+this._uid++),function(t,e){var n=tt[t];if(!n)throw new Error("unknown type: <"+t+">");return G(new n,e)}(t,e)};var nt={width:90,height:20},it=15;function rt(t){return x(t,"bpmn:Event")||x(t,"bpmn:Gateway")||x(t,"bpmn:DataStoreReference")||x(t,"bpmn:DataObjectReference")||x(t,"bpmn:DataInput")||x(t,"bpmn:DataOutput")||x(t,"bpmn:SequenceFlow")||x(t,"bpmn:MessageFlow")||x(t,"bpmn:Group")}function ot(t){return t.waypoints?(e=t.waypoints,n=e.length/2-1,i=e[Math.floor(n)],r=e[Math.ceil(n+.01)],o=function(t){var e=t.length/2-1,n=t[Math.floor(e)],i=t[Math.ceil(e+.01)];return{x:n.x+(i.x-n.x)/2,y:n.y+(i.y-n.y)/2}}(e),a=Math.atan((r.y-i.y)/(r.x-i.x)),c=o.x,s=o.y,Math.abs(a)<Math.PI/2?s-=it:c+=it,{x:c,y:s}):x(t,"bpmn:Group")?{x:t.x+t.width/2,y:t.y+nt.height/2}:{x:t.x+t.width/2,y:t.y+t.height+nt.height/2};var e,n,i,r,o,a,c,s}function at(t){return t&&!!t.labelTarget}function ct(t,e,n){et.call(this),this._bpmnFactory=t,this._moddle=e,this._translate=n}function st(t,e,n){t[n]=e[n],delete e[n]}N()(ct,et),ct.$inject=["bpmnFactory","moddle","translate"],ct.prototype.baseCreate=et.prototype.create,ct.prototype.create=function(t,e){return"label"===t?this.baseCreate(t,v({type:"label"},nt,e)):this.createBpmnElement(t,e)},ct.prototype.createBpmnElement=function(t,e){var n,i,r,o=this._translate,a=(e=e||{}).businessObject;if(!a){if(!e.type)throw new Error(o("no shape type specified"));a=this._bpmnFactory.create(e.type)}return a.di||(a.di="root"===t?this._bpmnFactory.createDiPlane(a,[],{id:a.id+"_di"}):"connection"===t?this._bpmnFactory.createDiEdge(a,[],{id:a.id+"_di"}):this._bpmnFactory.createDiShape(a,{},{id:a.id+"_di"})),x(a,"bpmn:Group")&&(e=v({isFrame:!0},e)),e.di&&(v(a.di,e.di),delete e.di),function(t,e,n){f(["processRef","isInterrupting","associationDirection","isForCompensation"],(function(n){void 0!==e[n]&&st(t,e,n)}))}(a,e),e.isExpanded&&st(a.di,e,"isExpanded"),x(a,"bpmn:ExclusiveGateway")&&(a.di.isMarkerVisible=!0),e.eventDefinitionType&&(i=a.get("eventDefinitions")||[],r=this._bpmnFactory.create(e.eventDefinitionType,e.eventDefinitionAttrs),"bpmn:ConditionalEventDefinition"===e.eventDefinitionType&&(r.condition=this._bpmnFactory.create("bpmn:FormalExpression")),i.push(r),r.$parent=a,a.eventDefinitions=i,delete e.eventDefinitionType),n=this._getDefaultSize(a),e=v({businessObject:a,id:a.id},n,e),this.baseCreate(t,e)},ct.prototype._getDefaultSize=function(t){return x(t,"bpmn:SubProcess")?_(t)?{width:350,height:200}:{width:100,height:80}:x(t,"bpmn:Task")?{width:100,height:80}:x(t,"bpmn:Gateway")?{width:50,height:50}:x(t,"bpmn:Event")?{width:36,height:36}:x(t,"bpmn:Participant")?_(t)?{width:600,height:250}:{width:400,height:60}:x(t,"bpmn:Lane")?{width:400,height:100}:x(t,"bpmn:DataObjectReference")?{width:36,height:50}:x(t,"bpmn:DataStoreReference")?{width:50,height:50}:x(t,"bpmn:TextAnnotation")?{width:100,height:30}:x(t,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}},ct.prototype.createParticipantShape=function(t){return e=t,"[object Object]"===h.call(e)||(t={isExpanded:t}),!1!==(t=v({type:"bpmn:Participant"},t||{})).isExpanded&&(t.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(t);var e};function pt(t,e,n,i,r,o,a,c){this._palette=t,this._create=e,this._elementFactory=n,this._spaceTool=i,this._lassoTool=r,this._handTool=o,this._globalConnect=a,this._translate=c,t.registerProvider(this)}function lt(t,e,n,i,r,o,a){function c(t,e){(e||w(t,["bpmn:Task","bpmn:TextAnnotation"])||ht(t))&&i.activate(t)}this._bpmnFactory=e,this._canvas=n,this._modeling=r,this._textRenderer=a,i.registerProvider(this),t.on("element.dblclick",(function(t){c(t.element,!0)})),t.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open"],(function(t){i.isActive()&&i.complete()})),t.on(["commandStack.changed"],(function(t){i.isActive()&&i.cancel()})),t.on("directEditing.activate",(function(t){o.removeResizers()})),t.on("create.end",500,(function(t){var e=t.context,n=e.shape,i=t.context.canExecute;t.isTouch||i&&(e.hints&&!1===e.hints.createElementsBehavior||c(n))})),t.on("autoPlace.end",500,(function(t){c(t.shape)}))}function ht(t){return x(t,"bpmn:SubProcess")&&!_(t)}(class extends ct{constructor(t,e,n,i){super(t,e,n);const r=i.getDefaultSize;i.getDefaultSize=(t,e)=>x(t,"bpmn:Participant")?{width:450,height:600}:r(t,e)}}).$inject=["bpmnFactory","moddle","translate","elementFactory"],pt.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],pt.prototype.getPaletteEntries=function(t){var e={},n=this._create,i=this._elementFactory,r=this._spaceTool,o=this._lassoTool,a=this._handTool,c=this._globalConnect,s=this._translate;function p(t,e,r,o,a){function c(e){var r=i.createShape(v({type:t},a));a&&(r.businessObject.di.isExpanded=a.isExpanded),n.start(e,r)}var p=t.replace(/^bpmn:/,"");return{group:e,className:r,title:o||s("Create {type}",{type:p}),action:{dragstart:c,click:c}}}function l(t){var e=i.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),r=i.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:e});n.start(t,[e,r],{hints:{autoSelect:[e]}})}function h(t){n.start(t,i.createParticipantShape())}return v(e,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:s("Activate the hand tool"),action:{click:function(t){a.activateHand(t)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:s("Activate the lasso tool"),action:{click:function(t){o.activateSelection(t)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:s("Activate the create/remove space tool"),action:{click:function(t){r.activateSelection(t)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:s("Activate the global connect tool"),action:{click:function(t){c.start(t)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":p("bpmn:StartEvent","event","bpmn-icon-start-event-none",s("Create StartEvent")),"create.intermediate-event":p("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",s("Create Intermediate/Boundary Event")),"create.end-event":p("bpmn:EndEvent","event","bpmn-icon-end-event-none",s("Create EndEvent")),"create.exclusive-gateway":p("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",s("Create Gateway")),"create.task":p("bpmn:Task","activity","bpmn-icon-task",s("Create Task")),"create.data-object":p("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",s("Create DataObjectReference")),"create.data-store":p("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",s("Create DataStoreReference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:s("Create expanded SubProcess"),action:{dragstart:l,click:l}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:s("Create Pool/Participant"),action:{dragstart:h,click:h}},"create.group":p("bpmn:Group","artifact","bpmn-icon-group",s("Create Group"))}),e},pt.prototype.getPaletteEntries=function(){var t={},e=this._create,n=this._elementFactory,i=this._spaceTool,r=this._lassoTool,a=this._handTool,c=this._globalConnect,s=this._translate;function p(t,i,r,a,c){function p(i){var r,a=n.createShape(o({type:t},c));c&&(((r=S(a))&&r.di).isExpanded=c.isExpanded),e.start(i,a)}var l=t.replace(/^bpmn:/,"");return{group:i,className:r,title:a||s("Create {type}",{type:l}),action:{dragstart:p,click:p}}}function l(t){var i=n.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),r=n.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:i});e.start(t,[i,r],{hints:{autoSelect:[i]}})}return o(t,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:s("Activate the hand tool"),action:{click:function(t){a.activateHand(t)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:s("Activate the lasso tool"),action:{click:function(t){r.activateSelection(t)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:s("Activate the create/remove space tool"),action:{click:function(t){i.activateSelection(t)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:s("Activate the global connect tool"),action:{click:function(t){c.start(t)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":p("bpmn:StartEvent","event","bpmn-icon-start-event-none",s("Create StartEvent")),"create.end-event":p("bpmn:EndEvent","event","bpmn-icon-end-event-none",s("Create EndEvent")),"create.exclusive-gateway":p("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",s("Create Gateway")),"create.task":p("bpmn:Task","activity","bpmn-icon-task",s("Create Task")),"create.data-object":p("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",s("Create DataObjectReference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:s("Create expanded SubProcess"),action:{dragstart:l,click:l}}}),t},lt.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"],lt.prototype.activate=function(t){var e=function(t){var e=t.businessObject,n=function(t){return x(t,"bpmn:FlowElement")||x(t,"bpmn:Participant")||x(t,"bpmn:Lane")||x(t,"bpmn:SequenceFlow")||x(t,"bpmn:MessageFlow")||x(t,"bpmn:DataInput")||x(t,"bpmn:DataOutput")?"name":x(t,"bpmn:TextAnnotation")?"text":x(t,"bpmn:Group")?"categoryValueRef":void 0}(e);if(n)return"categoryValueRef"===n?function(t){var e=t.categoryValueRef;return e&&e.value||""}(e):e[n]||""}(t);if(void 0!==e){var n={text:e};v(n,this.getEditingBBox(t));var i={};return(w(t,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||ht(t))&&v(i,{centerVertically:!0}),rt(t)&&v(i,{autoResize:!0}),x(t,"bpmn:TextAnnotation")&&v(i,{resizable:!0,autoResize:!0}),v(n,{options:i}),n}},lt.prototype.getEditingBBox=function(t){var e=this._canvas,n=t.label||t,i=e.getAbsoluteBBox(n),r=i.x+i.width/2,o=i.y+i.height/2,a={x:i.x,y:i.y},c=e.zoom(),s=this._textRenderer.getDefaultStyle(),p=this._textRenderer.getExternalStyle(),l=p.fontSize*c,h=p.lineHeight,u=s.fontSize*c,d=s.lineHeight,f={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};(x(t,"bpmn:Lane")||function(t){return x(t,"bpmn:Participant")&&_(t)}(t))&&(v(a,{width:i.height,height:30*c,x:i.x-i.height/2+15*c,y:o-30*c/2}),v(f,{fontSize:u+"px",lineHeight:d,paddingTop:7*c+"px",paddingBottom:7*c+"px",paddingLeft:5*c+"px",paddingRight:5*c+"px",transform:"rotate(-90deg)"})),(w(t,["bpmn:Task","bpmn:CallActivity"])||function(t){return x(t,"bpmn:Participant")&&!_(t)}(t)||ht(t))&&(v(a,{width:i.width,height:i.height}),v(f,{fontSize:u+"px",lineHeight:d,paddingTop:7*c+"px",paddingBottom:7*c+"px",paddingLeft:5*c+"px",paddingRight:5*c+"px"})),function(t){return x(t,"bpmn:SubProcess")&&_(t)}(t)&&(v(a,{width:i.width,x:i.x}),v(f,{fontSize:u+"px",lineHeight:d,paddingTop:7*c+"px",paddingBottom:7*c+"px",paddingLeft:5*c+"px",paddingRight:5*c+"px"}));var b=90*c,g=7*c,m=4*c;if(n.labelTarget&&(v(a,{width:b,height:i.height+g+m,x:r-b/2,y:i.y-g}),v(f,{fontSize:l+"px",lineHeight:h,paddingTop:g+"px",paddingBottom:m+"px"})),rt(n)&&!function(t){return at(t.label)}(n)&&!at(n)){var y=ot(t),S=e.getAbsoluteBBox({x:y.x,y:y.y,width:0,height:0}),j=l+g+m;v(a,{width:b,height:j,x:S.x-b/2,y:S.y-j/2}),v(f,{fontSize:l+"px",lineHeight:h,paddingTop:g+"px",paddingBottom:m+"px"})}return x(t,"bpmn:TextAnnotation")&&(v(a,{width:i.width,height:i.height,minWidth:30*c,minHeight:10*c}),v(f,{textAlign:"left",paddingTop:5*c+"px",paddingBottom:7*c+"px",paddingLeft:7*c+"px",paddingRight:5*c+"px",fontSize:u+"px",lineHeight:d})),{bounds:a,style:f}},lt.prototype.update=function(t,e,n,i){var r,o,a;if(x(t,"bpmn:TextAnnotation")&&(o=this._canvas.getAbsoluteBBox(t),r={x:t.x,y:t.y,width:t.width/o.width*i.width,height:t.height/o.height*i.height}),x(t,"bpmn:Group")&&!S(t).categoryValueRef){var c=function(t,e){var n=e.create("bpmn:CategoryValue"),i=e.create("bpmn:Category",{categoryValue:[n]});return function(t,e,n){if(t&&e){"number"!=typeof n&&(n=-1);var i=t.indexOf(e);if(-1!==i){if(i===n)return;if(-1===n)return;t.splice(i,1)}-1!==n?t.splice(n,0,e):t.push(e)}}(t.get("rootElements"),i),S(i).$parent=t,S(n).$parent=i,n}(S(this._canvas.getRootElement()).$parent,this._bpmnFactory);S(t).categoryValueRef=c}(a=e)&&a.trim()||(e=null),this._modeling.updateLabel(t,e,r)},lt.prototype.getEditingBBox=function(t){var e=this._canvas,n=t.label||t,i=e.getAbsoluteBBox(n),r=i.x+i.width/2,a=(i.y,i.height,{x:i.x,y:i.y}),c=e.zoom(),s=this._textRenderer.getDefaultStyle(),p=this._textRenderer.getExternalStyle(),l=p.fontSize*c,h=p.lineHeight,u=s.fontSize*c,d=s.lineHeight,f={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};(x(t,"bpmn:Lane")||function(t){return x(t,"bpmn:Participant")&&_(t)}(t))&&(o(a,{width:i.width,height:30*c}),o(f,{fontSize:u+"px",lineHeight:d,paddingTop:7*c+"px",paddingBottom:7*c+"px",paddingLeft:5*c+"px",paddingRight:5*c+"px"})),(w(t,["bpmn:Task","bpmn:CallActivity"])||function(t){return x(t,"bpmn:Participant")&&!_(t)}(t)||function(t){return x(t,"bpmn:SubProcess")&&!_(t)}(t))&&(o(a,{width:i.width,height:i.height}),o(f,{fontSize:u+"px",lineHeight:d,paddingTop:7*c+"px",paddingBottom:7*c+"px",paddingLeft:5*c+"px",paddingRight:5*c+"px"})),function(t){return x(t,"bpmn:SubProcess")&&_(t)}(t)&&(o(a,{width:i.width,x:i.x}),o(f,{fontSize:u+"px",lineHeight:d,paddingTop:7*c+"px",paddingBottom:7*c+"px",paddingLeft:5*c+"px",paddingRight:5*c+"px"}));var b=90*c,g=7*c,m=4*c;if(n.labelTarget&&(o(a,{width:b,height:i.height+g+m,x:r-b/2,y:i.y-g}),o(f,{fontSize:l+"px",lineHeight:h,paddingTop:g+"px",paddingBottom:m+"px"})),rt(n)&&!hasExternalLabel(n)&&!isLabel(n)){var y=getExternalLabelMid(t),v=e.getAbsoluteBBox({x:y.x,y:y.y,width:0,height:0}),S=l+g+m;o(a,{width:b,height:S,x:v.x-b/2,y:v.y-S/2}),o(f,{fontSize:l+"px",lineHeight:h,paddingTop:g+"px",paddingBottom:m+"px"})}return x(t,"bpmn:TextAnnotation")&&(o(a,{width:i.width,height:i.height,minWidth:30*c,minHeight:10*c}),o(f,{textAlign:"left",paddingTop:5*c+"px",paddingBottom:7*c+"px",paddingLeft:7*c+"px",paddingRight:5*c+"px",fontSize:u+"px",lineHeight:d})),{bounds:a,style:f}}})()})();